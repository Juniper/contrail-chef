################################################
#
#              Generated by Chef
#
################################################

[DEFAULTS]
ifmap_server_ip = <%=node['contrail']['cfgm']['ip']%>
ifmap_server_port = 8445
ifmap_username = api-server
ifmap_password = api-server
cassandra_server_list = <%= @servers.collect{|x| x['contrail']['database']['ip']+':9160'}.join(' ') %>
listen_ip_addr=0.0.0.0
listen_port=8082
multi_tenancy=<%=node['contrail']['multi_tenancy']%>
log_file=/var/log/contrail/contrail-api.log
log_local=1
log_level=SYS_NOTICE
disc_server_ip=<%=node['contrail']['cfgm']['ip']%>
disc_server_port=5998
zk_server_ip = <%= @servers.collect{|x| x['contrail']['database']['ip']+':2181'}.join(',') %>
redis_server_ip=<%=node['contrail']['analytics']['ip']%>
rabbit_server=<%=node['contrail']['cfgm']['ip']%>
rabbit_port=5672
auth = keystone

[SECURITY]
use_certs=False
keyfile=/etc/contrail/ssl/private_keys/apiserver_key.pem
certfile=/etc/contrail/ssl/certs/apiserver.pem
ca_certs=/etc/contrail/ssl/certs/ca.pem

[KEYSTONE]
auth_host=<%=node['contrail']['keystone']['ip']%>
auth_protocol=<%=node['contrail']['protocol']['keystone']%>
auth_port=35357
admin_user=<%=node['contrail']['admin_user']%>
admin_password=<%=node['contrail']['admin_token']%>
admin_token=<%=node['contrail']['admin_token']%>
admin_tenant_name=<%=node['contrail']['admin_tenant_name']%>
insecure=False
memcache_servers=127.0.0.1:11211
